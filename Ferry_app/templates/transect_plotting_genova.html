
{% extends "layouts/base.html" %}
{% load static %}
{% block title %} Page Blank {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}


{% block content %}




  
                               <!-- Choose the type of graph -->

<!-- This is the new navbar ( pretty one) , it's calling other sections using the href items, save the names and try this new architechture.. -->
    <div class="row">
      <div class="col-lg-12 col-md-12" >
        <div class="card" >
          <div class="card-header card-header-tabs card-header-primary" >
            <div class="nav-tabs-navigation">
              <div class="nav-tabs-wrapper">
                <span class="nav-tabs-title">Graphs:</span>
                <ul class="nav nav-tabs" data-tabs="tabs">
                  <li class="nav-item">
                    <a class="nav-link active" href="#transect" data-toggle="tab">
                      <i class="material-icons"></i> Transect
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="map">
                      <i class="material-icons"></i> Map
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="time_series">
                      <i class="material-icons"></i> Time series
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="scatter">
                      <i class="material-icons"></i> Scatter
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
<!--                   <li class="nav-item">
                    <a class="nav-link" href="heat.html">
                      <i class="material-icons"></i> Heat -->
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
<!-- These are the navbars called items ( the different graphs forms ) -->

          <div class="card-body">
            <div class="tab-content">
              <!-- this div is just replacing the tab pane part -->
              <div class="tab-pane active" id="transect">
                <table class="table">
                  <tbody>
                    <tr>
                      <td>

            <form method="GET" action=".">
              {% csrf_token %}

              <div class="row">

                <div class="col-md-5">   
        <!-- the buttons group starts here-->        
            <label for="metadata">Transect reference</label>
            <select id="path_selection" class="custom-select" name="metadata">
              {% if  answered  %}
              <option>{{ save_transect }}</option>
              {% endif %}
              {% for trans in metadata %}
              <option >{{ trans.Name }}</option>
              {% endfor %}
            </select>
                </div>


            <div class="col-md-3">
            <label for="parameter">Parameter</label>
            <select id="path_selection"  class="custom-select" name="parameter_selection">
              {% if  answered  %}
              <option>{{ save_parameter }}</option>
              {% endif %}
                <option>Salinity_SBE45</option>
                <option>Temp_in_SBE38</option>
                <option>Oxygen</option>
                <option>Turbidity</option>  
                <option>Chl_a</option>
            </select>

                </div>
   
  
             <div class="col-md-2">

            <label for="metadata">Xaxis Label</label>
              <select class="custom-select" name="xaxis_label">
              {% if  answered  %}
              <option>{{ save_xaxis }}</option>
              {% endif %}
                <option>Distance</option>
                <option>Longitude</option>
                <option>Latitude</option>  
            </select>
          </div>

            <div class="col-md-2">
             <label for="metadata">Quality Control</label>
              <select class="custom-select" name="qc_param">
              {% if  answered  %}
              <option>{{ save_qc }}</option>
              {% endif %}
                <option>0 - None</option>
                <option>1 - Good</option>
                <option>2 - Probably good</option>  
                <option>3 - Probably bad</option> 
                <option>4 - Bad</option> 
            </select>
          </div> 



                </div>
            </div>   
           <hr> 
           <div class="container"> 
<div class="col-md-48">
        <button type="submit" class="btn btn-primary float-right" style="width: 150px">Plot</button>
      </div>
    </div>

          </div>
        </div>
            </form>
                  </td>
                    </tr>
                  </tbody>
                </table>

</div>



<div class="border" id="container8" style="height:500px;" >
  <div class="col-md-48">
                <!-- looks like u solved ur problem !! pu a chart here.. -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    
    <script>
      _categories = {{categories|safe}};
      _values = {{values|safe}};
  //      //Add Condition related to user auth type to activate/disactivate the ...
  //     if (true) {}
  //     Highcharts.chart('container', {
  //   chart: {
  //             type: 'line'
  //   },
  //    exporting: {
  //   enabled: {{ down }}
  // },
  //   title: {
  //             text: ' '
  //   },
  //   subtitle: {
  //             text: '{{ title }}'
  //   },
  //   xAxis: {
  //             categories:_categories,
  //             crosshair: true,

  //   },
  //   yAxis: {
  //             title: {
  //     text: '{{ axe_title }}'
  //             }
  //   },
  //   tooltip: {
  //             headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
  //             pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
  //     '<td style="padding:0"><b>{point.y:.1f} </b></td></tr>',
  //             footerFormat: '</table>',
  //             shared: true,
  //             useHTML: true
  //   },
  //   plotOptions: {
  //             column: {
  //     pointPadding: 0.2,
  //     borderWidth: 0
  //       }
  //   },
  //   series: [{
  //             name: '{{ param_name }}',
  //             data: _values
        
  //   },
  //   {
  //             name: '{{ param_name }}',
  //             data: _values
        
  //   },


  //   ]
  //     });

    Highcharts.chart('container8', {    
    xAxis: {
        categories: _categories
    },
      yAxis: {
              title: {
      text: '{{ axe_title }}'
              }
    },
       exporting: {
    enabled: {{ down }}
  },
    title: {
              text: ' '
    },
    subtitle: {
              text: '{{ title }}'
    },
    tooltip: {
              // headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
              pointFormat: '<tr><td style="color:{series.color};padding:0">{{ axe_title }}: </td>' +
      '<td style="padding:0"><b>{point.y:.1f} </b></td></tr>',

    },

    // if ( {{ direction }} ) {

      // Marseille
        series: [{
        data: _values,
        name: "Gulf of Tunis",

        zoneAxis: 'x',
        zones: [ {
            name:'Gulf of Tunis',
            value:{{ limit_1 }},
            dashStyle: 'solid',
            color:'#07B1C5',
         },
        {
            name:'Southern Sardinia',
            value:{{ limit_2 }},
            dashStyle: 'solid',
            color:'#9A33B1',
        },{
            value: {{ limit_3 }},  
            name:'Eastern Sardinia',    
            dashStyle: 'solid',
            color:'#4FA953'
        }, {
            value:{{ limit_4 }},
            name:'East of Corsica',
            dashStyle: 'solid',
            color:'#FD9F1B',
        },
        {
            value:{{ limit_5 }},
            name:'Gulf of Genoa',
            dashStyle: 'solid',
            color:'#C11B0B',
        }]
        // end of zones
    },
    // end of first data
    {
          data:[],
          name:'Southern Sardinia',
          color:'#9A33B1',
        },
    {
          data:[],
          name:'Eastern Sardinia',
          color:'#4FA953',
        },
    {
          data:[],
          name:'East of Corsica',
          color:'#FD9F1B',
        },
      {
          data:[],
          name:'Gulf of Genoa',
          color:'#C11B0B',
        }],

});
      </script>


</div>
</div> 
<!-- closing the div replacing the tab pane -->
<!-- the first graph ends here           -->


</div>
            </div></div>

<br>

<!-- main content -->

 

   <!-- end of page content section -->
                    

    
{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}


