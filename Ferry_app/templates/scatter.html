
{% extends "layouts/base.html" %}
{% load static %}
{% block title %} Page Blank {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}                                <!-- Choose the type of graph -->


<!-- This is the new navbar ( pretty one) , it's calling other sections using the href items, save the names and try this new architechture.. -->
    <div class="row">
      <div class="col-lg-12 col-md-12">
        <div class="card">
          <div class="card-header card-header-tabs card-header-primary">
            <div class="nav-tabs-navigation">
              <div class="nav-tabs-wrapper">
                <span class="nav-tabs-title">Graphs:</span>
                <ul class="nav nav-tabs" data-tabs="tabs">
                  <li class="nav-item">
                    <a class="nav-link" href="transect_plotting">
                      <i class="material-icons"></i> Transect
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="map">
                      <i class="material-icons"></i> Map
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="time_series">
                      <i class="material-icons"></i> Time series
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link active" href="#scatter" data-toggle="tab">
                      <i class="material-icons"></i> Scatter
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
<!--                   <li class="nav-item">
                    <a class="nav-link" href="heat.html">
                      <i class="material-icons"></i> Heat -->
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
<!-- These are the navbars called items ( the different graphs forms ) -->

          <div class="card-body">
            <div class="tab-content">
              <!-- this div is just replacing the tab pane part -->
              <div class="tab-pane active" id="transect">
                <table class="table">
                  <tbody>
                    <tr>
                      <td>

            <form method="GET" action="{% url 'Ferry_plot:scatter' %}">
              {% csrf_token %}

              <div class="row">




                <div class="col-md-5">   
        <!-- the buttons group starts here-->        
            <label for="metadata">Transect reference</label>
            <select id="path_selection"  class="custom-select" name="transect_select_scatter">
              {% if  answered  %}
              <option>{{ save_transect }}</option>
              {% endif %}
              {% for trans in metadata %}
              <option >{{ trans.Name }}</option>
              {% endfor %}
            </select>
                </div>


 
            <div class="col-md-2">
            <label for="parameter">Parameter 1</label>
            <select id="path_selection"  class="custom-select" name="para1_selection_scatter">
              {% if  answered  %}
              <option>{{ save_parameter1 }}</option>
              {% endif %}
                <option>Salinity_SBE45</option>
                <option>Temp_in_SBE38</option>
                <option>Oxygen</option>
                <option>Turbidity</option>  
                <option>Chl_a</option>
            </select>

                </div>

          
            <div class="col-md-2">
            <label for="parameter">Parameter 2</label>
            <select id="path_selection"  class="custom-select" name="para2_selection_scatter">
              {% if  answered  %}
              <option>{{ save_parameter2 }}</option>
              {% endif %}
                <option>Salinity_SBE45</option>
                <option>Temp_in_SBE38</option>
                <option>Oxygen</option>
                <option>Turbidity</option>  
                <option>Chl_a</option>
            </select>
                </div>



            <div class="col-md-2">
             <label for="metadata">Quality Control</label>
              <select class="custom-select" name="scatter_qc_param">
                {% if answered  %}
                <option>{{ qc }} </option>
                {% endif %}
                <option>0 - None</option>
                <option>1 - Good</option>
                <option>2 - Probably good</option>  
                <option>3 - Probably bad</option> 
                <option>4 - Bad</option> 
            </select>
          </div> 



                </div>
            </div>   
           <hr> 
           <div class="container"> 
<div class="col-md-48">
        <button type="submit" class="btn btn-primary float-right" style="width: 150px">Plot</button>
      </div>
    </div>

          </div>
        </div>
            </form>
                  </td>
                    </tr>
                  </tbody>
                </table>

</div>
             


                <!-- looks like u solved ur problem !! pu a chart here.. -->


<div class="border" id="container8" style="height:500px;" >
  <div class="col-md-48">
                <!-- looks like u solved ur problem !! pu a chart here.. -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>

<script type="text/javascript">

_data_filtered={{data_filtered|safe}};

 if (true) {}

 Highcharts.chart('container8', {
    chart: {
        zoomType: 'xy'
    },

    exporting: {
    enabled: {{ down }} 
  },
    title: {
        text: '  '
    },
    subtitle: {
        text: '{{ title_graph }}'
    },
    xAxis: {
        title: {
            enabled: true,
            text: '{{ p1_graph }}'
        },
        startOnTick: true,
        endOnTick: true,
        showLastLabel: true
    },
    yAxis: {
        title: {
            text: '{{ p2_graph }}'
        }
    },

    plotOptions: {
        scatter: {
            marker: {
                radius: 5,
                states: {
                    hover: {
                        enabled: true,
                        lineColor: 'rgb(100,100,100)'
                    }
                }
            },
            states: {
                hover: {
                    marker: {
                        enabled: false
                    }
                }
            },
        }
    },

    series: [{
        type: 'line',
        name: 'Regression line',
        data: {{reg_line}},
        marker: {
            enabled: false
        },
        states: {
            hover: {
                lineWidth: 0
            }
        },
        enableMouseTracking: false
    }, {
        type: 'scatter',
        color: 'rgba(223, 83, 83, .5)',
        data: _data_filtered,
        name: 'XY plots'
    }]

});


</script>

</div>

</div>
</div> 

<!-- the rest of tab panes goes here

  

<br>


 

   <-- end of page content section -->
                  

    
{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}


