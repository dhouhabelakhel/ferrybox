
{% extends "layouts/base.html" %}
{% load static %}
{% block title %} Page Blank {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}


{% block content %}




  
                               <!-- Choose the type of graph -->

<!-- This is the new navbar ( pretty one) , it's calling other sections using the href items, save the names and try this new architechture.. -->
    <div class="row">
      <div class="col-lg-12 col-md-12" >
        <div class="card" >
          <div class="card-header card-header-tabs card-header-primary" >
            <div class="nav-tabs-navigation">
              <div class="nav-tabs-wrapper">
                <span class="nav-tabs-title">Graphs:</span>
                <ul class="nav nav-tabs" data-tabs="tabs">
                  <li class="nav-item">
                    <a class="nav-link active" href="#transect" data-toggle="tab">
                      <i class="material-icons"></i> Transect
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="map">
                      <i class="material-icons"></i> Map
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="time_series">
                      <i class="material-icons"></i> Time series
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="scatter">
                      <i class="material-icons"></i> Scatter
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
<!--                   <li class="nav-item">
                    <a class="nav-link" href="heat.html">
                      <i class="material-icons"></i> Heat -->
                      <!-- <div class="ripple-container"></div> -->
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
<!-- These are the navbars called items ( the different graphs forms ) -->

          <div class="card-body">
            <div class="tab-content">
              <!-- this div is just replacing the tab pane part -->
              <div class="tab-pane active" id="transect">
                <table class="table">
                  <tbody>
                    <tr>
                      <td>

            <form method="GET" action="{% url 'Ferry_plot:transect_plotting' %}">
              {% csrf_token %}

              <div class="row">

           <!-- Dans votre template -->
<select id="path_selection" class="custom-select" name="metadata" required>
  {% if answered %}
    <option selected>{{ save_transect }}</option>
  {% endif %}
  {% for trans in metadata %}
    <option {% if trans.Name == save_transect %}selected{% endif %}>{{ trans.Name }}</option>
  {% endfor %}
</select>

<select id="path_selection" class="custom-select" name="parameter_selection" required>
  {% if answered %}
    <option selected>{{ save_parameter }}</option>
  {% endif %}
  <option {% if save_parameter == "Salinity_SBE45" %}selected{% endif %}>Salinity_SBE45</option>
  <option {% if save_parameter == "Temp_in_SBE38" %}selected{% endif %}>Temp_in_SBE38</option>
  <option {% if save_parameter == "Oxygen" %}selected{% endif %}>Oxygen</option>
  <option {% if save_parameter == "Turbidity" %}selected{% endif %}>Turbidity</option>  
  <option {% if save_parameter == "Chl_a" %}selected{% endif %}>Chl_a</option>
</select>

<select class="custom-select" name="xaxis_label" required>
  {% if answered %}
    <option selected>{{ save_xaxis }}</option>
  {% endif %}
  <option {% if save_xaxis == "Distance" %}selected{% endif %}>Distance</option>
  <option {% if save_xaxis == "Longitude" %}selected{% endif %}>Longitude</option>
  <option {% if save_xaxis == "Latitude" %}selected{% endif %}>Latitude</option>  
</select>

<select class="custom-select" name="qc_param" required>
  {% if answered and save_qc %}
    <option selected>{{ save_qc }}</option>
  {% else %}
    <option selected>1 - Good</option>
  {% endif %}
  <option {% if save_qc == "0 - None" %}selected{% endif %}>0 - None</option>
  <option {% if save_qc == "1 - Good" %}selected{% endif %}>1 - Good</option>
  <option {% if save_qc == "2 - Probably good" %}selected{% endif %}>2 - Probably good</option>  
  <option {% if save_qc == "3 - Probably bad" %}selected{% endif %}>3 - Probably bad</option> 
  <option {% if save_qc == "4 - Bad" %}selected{% endif %}>4 - Bad</option> 
</select>

                </div>
            </div>   
           <hr> 
           <div class="container"> 
<div class="col-md-48">
        <button type="submit" class="btn btn-primary float-right" style="width: 150px">Plot</button>
      </div>
    </div>

          </div>
        </div>
            </form>
                  </td>
                    </tr>
                  </tbody>
                </table>

</div>



<div class="border" id="container8" style="height:500px;" >
  <div class="col-md-48">
                <!-- looks like u solved ur problem !! pu a chart here.. -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    
    <script>
      _categories = {{categories|safe}};
      _values = {{values|safe}};
  //      //Add Condition related to user auth type to activate/disactivate the ...
  //     if (true) {}
  //     Highcharts.chart('container', {
  //   chart: {
  //             type: 'line'
  //   },
  //    exporting: {
  //   enabled: {{ down }}
  // },
  //   title: {
  //             text: ' '
  //   },
  //   subtitle: {
  //             text: '{{ title }}'
  //   },
  //   xAxis: {
  //             categories:_categories,
  //             crosshair: true,

  //   },
  //   yAxis: {
  //             title: {
  //     text: '{{ axe_title }}'
  //             }
  //   },
  //   tooltip: {
  //             headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
  //             pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
  //     '<td style="padding:0"><b>{point.y:.1f} </b></td></tr>',
  //             footerFormat: '</table>',
  //             shared: true,
  //             useHTML: true
  //   },
  //   plotOptions: {
  //             column: {
  //     pointPadding: 0.2,
  //     borderWidth: 0
  //       }
  //   },
  //   series: [{
  //             name: '{{ param_name }}',
  //             data: _values
        
  //   },
  //   {
  //             name: '{{ param_name }}',
  //             data: _values
        
  //   },


  //   ]
  //     });

    Highcharts.chart('container8', {    
    xAxis: {
        categories: _categories,
        labels: {
            step: 100
        }
    },
      yAxis: {
              title: {
      text: '{{ axe_title }}'
              }
    },
       exporting: {
    enabled: {{ down }}
  },
    title: {
              text: ' '
    },
    subtitle: {
              text: '{{ title }}'
    },
    tooltip: {
              // headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
              pointFormat: '<tr><td style="color:{series.color};padding:0">{{ axe_title }}: </td>' +
      '<td style="padding:0"><b>{point.y:.1f} </b></td></tr>',
    },

    // if ( {{ direction }} ) {

      // Marseille
        series: [{
        data: _values,
        name: "Gulf of Tunis",

        zoneAxis: 'x',
        zones: [ {
            name:'Gulf of Tunis',
            value:{{ limit_1 }},
            dashStyle: 'solid',
            color:'#07B1C5',
         },
        {
            name:'Sardinia canal',
            value:{{ limit_2 }},
            dashStyle: 'solid',
            color:'#9A33B1',
        },{
            value: {{ limit_3 }},  
            name:'West of Sardinia',    
            dashStyle: 'solid',
            color:'#4FA953'
        }, {
            value:{{ limit_4 }},
            name:'North of PLB',
            dashStyle: 'solid',
            color:'#FD9F1B',
        }]
        // end of zones
    },
    // end of first data
    {
          data:[],
          name:'Sardinia canal',
          color:'#9A33B1',
        },
    {
          data:[],
          name:'West of Sardinia',
          color:'#4FA953',
        },
    {
          data:[],
          name:'North of PLB',
          color:'#FD9F1B',
        }],
    // }

    // gonva 

    // #(tunis-genova) Gulf of Tunis, southern Sardinia, eastern Sardinia, east of Corsica, Gulf of Genoa
  //   else {
  //       series: [{
  //       data: _values,
  //       name: "Gulf of Tunis",

  //       zoneAxis: 'x',
  //       zones: [ {
  //           name:'Gulf of Tunis',
  //           value:{{ limit_1 }},
  //           dashStyle: 'solid',
  //           color:'#07B1C5',
  //        },
  //       {
  //           name:'Southern Sardinia',
  //           value:{{ limit_2 }},
  //           dashStyle: 'solid',
  //           color:'#C11B0B',
  //       },{
  //           value: {{ limit_3 }},  
  //           name:'Eastern Sardinia',    
  //           dashStyle: 'solid',
  //           color:'#4FA953'
  //       }, {
  //           value:{{ limit_4 }},
  //           name:'East of Corsica',
  //           dashStyle: 'solid',
  //           color:'#FD9F1B',
  //       },
  //       {
  //           value:{{ limit_5 }},
  //           name:'Gulf of Genoa',
  //           dashStyle: 'solid',
  //           color:'#FD9F1B',
  //       }]
  //       // end of zones
  //   },
  //   // end of first data
  //   {
  //         data:[],
  //         name:'Southern Sardinia',
  //         color:'#C11B0B',
  //       },
  //   {
  //         data:[],
  //         name:'Eastern Sardinia',
  //         color:'#9A33B1',
  //       },
  //   {
  //         data:[],
  //         name:'East of Corsica',
  //         color:'#4FA953',
  //       },
  //   {
  //         data:[],
  //         name:'Gulf of Genoa',
  //         color:'#FD9F1B',
  //       }];
  // },


});
      </script>


</div>
</div> 
<!-- closing the div replacing the tab pane -->
<!-- the first graph ends here           -->


</div>
            </div></div>

<br>

<!-- main content -->

 

   <!-- end of page content section -->
                    

    
{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}


